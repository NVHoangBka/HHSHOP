{"ast":null,"code":"// src/models/CartModel.js\nexport class CartModel {\n  constructor(items = []) {\n    this.items = items.map(item => ({\n      ...item,\n      quantity: item.quantity || 1,\n      displayPrice: item.discountPrice || item.price\n    }));\n  }\n  get totalItems() {\n    return this.items.length;\n  }\n  get totalPrice() {\n    return this.items.reduce((sum, item) => sum + item.displayPrice * item.quantity, 0);\n  }\n  addItem(product) {\n    const existing = this.items.find(i => i.id === product.id);\n    if (existing) {\n      existing.quantity += 1;\n    } else {\n      this.items.push({\n        ...product,\n        quantity: 1,\n        displayPrice: product.discountPrice || product.price\n      });\n    }\n    return [...this.items];\n  }\n  removeItem(id) {\n    this.items = this.items.filter(i => i.id !== id);\n    return [...this.items];\n  }\n  updateQuantity(id, qty) {\n    this.items = this.items.map(i => i.id === id ? {\n      ...i,\n      quantity: Math.max(1, qty)\n    } : i);\n    return [...this.items];\n  }\n  clear() {\n    this.items = [];\n    return [];\n  }\n  getItems() {\n    return [...this.items];\n  }\n}","map":{"version":3,"names":["CartModel","constructor","items","map","item","quantity","displayPrice","discountPrice","price","totalItems","length","totalPrice","reduce","sum","addItem","product","existing","find","i","id","push","removeItem","filter","updateQuantity","qty","Math","max","clear","getItems"],"sources":["D:/Hoang.bk/Documents/GitHub/HHSHOP/Frontend/src/models/CartModel.js"],"sourcesContent":["// src/models/CartModel.js\r\nexport class CartModel {\r\n  constructor(items = []) {\r\n    this.items = items.map(item => ({\r\n      ...item,\r\n      quantity: item.quantity || 1,\r\n      displayPrice: item.discountPrice || item.price\r\n    }));\r\n  }\r\n\r\n  get totalItems() {\r\n    return this.items.length;\r\n  }\r\n\r\n  get totalPrice() {\r\n    return this.items.reduce((sum, item) => sum + (item.displayPrice * item.quantity), 0);\r\n  }\r\n\r\n  addItem(product) {\r\n    const existing = this.items.find(i => i.id === product.id);\r\n    if (existing) {\r\n      existing.quantity += 1;\r\n    } else {\r\n      this.items.push({ ...product, quantity: 1, displayPrice: product.discountPrice || product.price });\r\n    }\r\n    return [...this.items];\r\n  }\r\n\r\n  removeItem(id) {\r\n    this.items = this.items.filter(i => i.id !== id);\r\n    return [...this.items];\r\n  }\r\n\r\n  updateQuantity(id, qty) {\r\n    this.items = this.items.map(i =>\r\n      i.id === id ? { ...i, quantity: Math.max(1, qty) } : i\r\n    );\r\n    return [...this.items];\r\n  }\r\n\r\n  clear() {\r\n    this.items = [];\r\n    return [];\r\n  }\r\n\r\n  getItems() {\r\n    return [...this.items];\r\n  }\r\n}"],"mappings":"AAAA;AACA,OAAO,MAAMA,SAAS,CAAC;EACrBC,WAAWA,CAACC,KAAK,GAAG,EAAE,EAAE;IACtB,IAAI,CAACA,KAAK,GAAGA,KAAK,CAACC,GAAG,CAACC,IAAI,KAAK;MAC9B,GAAGA,IAAI;MACPC,QAAQ,EAAED,IAAI,CAACC,QAAQ,IAAI,CAAC;MAC5BC,YAAY,EAAEF,IAAI,CAACG,aAAa,IAAIH,IAAI,CAACI;IAC3C,CAAC,CAAC,CAAC;EACL;EAEA,IAAIC,UAAUA,CAAA,EAAG;IACf,OAAO,IAAI,CAACP,KAAK,CAACQ,MAAM;EAC1B;EAEA,IAAIC,UAAUA,CAAA,EAAG;IACf,OAAO,IAAI,CAACT,KAAK,CAACU,MAAM,CAAC,CAACC,GAAG,EAAET,IAAI,KAAKS,GAAG,GAAIT,IAAI,CAACE,YAAY,GAAGF,IAAI,CAACC,QAAS,EAAE,CAAC,CAAC;EACvF;EAEAS,OAAOA,CAACC,OAAO,EAAE;IACf,MAAMC,QAAQ,GAAG,IAAI,CAACd,KAAK,CAACe,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;IAC1D,IAAIH,QAAQ,EAAE;MACZA,QAAQ,CAACX,QAAQ,IAAI,CAAC;IACxB,CAAC,MAAM;MACL,IAAI,CAACH,KAAK,CAACkB,IAAI,CAAC;QAAE,GAAGL,OAAO;QAAEV,QAAQ,EAAE,CAAC;QAAEC,YAAY,EAAES,OAAO,CAACR,aAAa,IAAIQ,OAAO,CAACP;MAAM,CAAC,CAAC;IACpG;IACA,OAAO,CAAC,GAAG,IAAI,CAACN,KAAK,CAAC;EACxB;EAEAmB,UAAUA,CAACF,EAAE,EAAE;IACb,IAAI,CAACjB,KAAK,GAAG,IAAI,CAACA,KAAK,CAACoB,MAAM,CAACJ,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKA,EAAE,CAAC;IAChD,OAAO,CAAC,GAAG,IAAI,CAACjB,KAAK,CAAC;EACxB;EAEAqB,cAAcA,CAACJ,EAAE,EAAEK,GAAG,EAAE;IACtB,IAAI,CAACtB,KAAK,GAAG,IAAI,CAACA,KAAK,CAACC,GAAG,CAACe,CAAC,IAC3BA,CAAC,CAACC,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGD,CAAC;MAAEb,QAAQ,EAAEoB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEF,GAAG;IAAE,CAAC,GAAGN,CACvD,CAAC;IACD,OAAO,CAAC,GAAG,IAAI,CAAChB,KAAK,CAAC;EACxB;EAEAyB,KAAKA,CAAA,EAAG;IACN,IAAI,CAACzB,KAAK,GAAG,EAAE;IACf,OAAO,EAAE;EACX;EAEA0B,QAAQA,CAAA,EAAG;IACT,OAAO,CAAC,GAAG,IAAI,CAAC1B,KAAK,CAAC;EACxB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}