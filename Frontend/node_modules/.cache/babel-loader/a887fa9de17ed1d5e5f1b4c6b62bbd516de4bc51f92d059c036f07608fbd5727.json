{"ast":null,"code":"const {\n  stringToSlug\n} = require(\"./helper\");\nconst provincesData = require(\"./jsonFiles/provinces.json\");\nconst districtsData = require(\"./jsonFiles/districts.json\");\nconst wardsData = require(\"./jsonFiles/wards.json\");\n\n/**\r\n * Search and paginate through a list of Districts.\r\n *\r\n * @param {Object} options - Options object.\r\n * @param {string} [options.searchText] - The text to search for within ward names.\r\n * @param {number} [options.page] - The page number to retrieve, default value is 1.\r\n * @param {number} [options.pageSize] - The number of wards per page, default value is 20.\r\n * @returns {Promise<{data: Array<Object>, remainingRecords: number}>} An object containing data for the current page and the count of remaining records.\r\n * @throws {Error} Throws an error if any occurs during the process.\r\n */\nasync function searchAndPaginateDistricts({\n  searchText = \"\",\n  page = 1,\n  pageSize = 10\n}) {\n  try {\n    const slugForSearch = stringToSlug(searchText);\n\n    // Filter data based on the \"name\" field\n    const filteredData = districtsData.filter(item => item.slug.toLowerCase().includes(slugForSearch));\n\n    //total records\n    const totalRecords = filteredData?.length;\n    let remainingRecords = 0;\n    if (totalRecords > 0) {\n      remainingRecords = totalRecords > pageSize * page ? Math.abs(totalRecords - pageSize * page) : 0;\n    }\n\n    // Calculate the start and end index of the page\n    const startIndex = (page - 1) * pageSize;\n    const endIndex = page * pageSize;\n\n    // Get the data for the current page\n    const pageData = filteredData.slice(startIndex, endIndex);\n    return {\n      data: pageData,\n      remainingRecords\n    };\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\n/**\r\n * Search and paginate through a list of wards.\r\n *\r\n * @param {Object} options - Options object.\r\n * @param {string} [options.searchText] - The text to search for within ward names.\r\n * @param {number} [options.page] - The page number to retrieve, default value is 1.\r\n * @param {number} [options.pageSize] - The number of wards per page, default value is 20.\r\n * @returns {Promise<{data: Array<Object>, remainingRecords: number}>} An object containing data for the current page and the count of remaining records.\r\n * @throws {Error} Throws an error if any occurs during the process.\r\n */\nasync function searchAndPaginateWards({\n  searchText = \"\",\n  page = 1,\n  pageSize = 20\n}) {\n  try {\n    const slugForSearch = stringToSlug(searchText);\n\n    // Filter data based on the \"name\" field\n    const filteredData = wardsData.filter(item => item.slug.toLowerCase().includes(slugForSearch));\n\n    //total records\n    const totalRecords = filteredData?.length;\n    let remainingRecords = 0;\n    if (totalRecords > 0) {\n      remainingRecords = totalRecords > pageSize * page ? Math.abs(totalRecords - pageSize * page) : 0;\n    }\n\n    // Calculate the start and end index of the page\n    const startIndex = (page - 1) * pageSize;\n    const endIndex = page * pageSize;\n\n    // Get the data for the current page\n    const pageData = filteredData.slice(startIndex, endIndex);\n    return {\n      data: pageData,\n      remainingRecords\n    };\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\n/**\r\n * Search and paginate through a list of Provinces.\r\n *\r\n * @param {Object} options - Options object.\r\n * @param {string} [options.searchText] - The text to search for within ward names.\r\n * @param {number} [options.page] - The page number to retrieve, default value is 1.\r\n * @param {number} [options.pageSize] - The number of wards per page, default value is 20.\r\n * @returns {Promise<{data: Array<Object>, remainingRecords: number}>} An object containing data for the current page and the count of remaining records.\r\n * @throws {Error} Throws an error if any occurs during the process.\r\n */\nasync function searchAndPaginateProvinces({\n  searchText = \"\",\n  page = 1,\n  pageSize = 20\n}) {\n  try {\n    const slugForSearch = stringToSlug(searchText);\n\n    // Filter data based on the \"name\" field\n    const filteredData = provincesData.filter(item => item.slug.toLowerCase().includes(slugForSearch));\n\n    //total records\n    const totalRecords = filteredData?.length;\n    let remainingRecords = 0;\n    if (totalRecords > 0) {\n      remainingRecords = totalRecords > pageSize * page ? Math.abs(totalRecords - pageSize * page) : 0;\n    }\n\n    // Calculate the start and end index of the page\n    const startIndex = (page - 1) * pageSize;\n    const endIndex = page * pageSize;\n\n    // Get the data for the current page\n    const pageData = filteredData.slice(startIndex, endIndex);\n    return {\n      data: pageData,\n      remainingRecords\n    };\n  } catch (error) {\n    throw new Error(error);\n  }\n}\nmodule.exports = {\n  searchAndPaginateDistricts,\n  searchAndPaginateWards,\n  searchAndPaginateProvinces\n};","map":{"version":3,"names":["stringToSlug","require","provincesData","districtsData","wardsData","searchAndPaginateDistricts","searchText","page","pageSize","slugForSearch","filteredData","filter","item","slug","toLowerCase","includes","totalRecords","length","remainingRecords","Math","abs","startIndex","endIndex","pageData","slice","data","error","Error","searchAndPaginateWards","searchAndPaginateProvinces","module","exports"],"sources":["D:/HHSHOP/Frontend/node_modules/vn-provinces/src/service.js"],"sourcesContent":["const { stringToSlug } = require(\"./helper\");\r\nconst provincesData = require(\"./jsonFiles/provinces.json\");\r\nconst districtsData = require(\"./jsonFiles/districts.json\");\r\nconst wardsData = require(\"./jsonFiles/wards.json\");\r\n\r\n\r\n/**\r\n * Search and paginate through a list of Districts.\r\n *\r\n * @param {Object} options - Options object.\r\n * @param {string} [options.searchText] - The text to search for within ward names.\r\n * @param {number} [options.page] - The page number to retrieve, default value is 1.\r\n * @param {number} [options.pageSize] - The number of wards per page, default value is 20.\r\n * @returns {Promise<{data: Array<Object>, remainingRecords: number}>} An object containing data for the current page and the count of remaining records.\r\n * @throws {Error} Throws an error if any occurs during the process.\r\n */\r\nasync function searchAndPaginateDistricts({\r\n  searchText = \"\",\r\n  page = 1,\r\n  pageSize = 10,\r\n}) {\r\n  try {\r\n    const slugForSearch = stringToSlug(searchText);\r\n\r\n    // Filter data based on the \"name\" field\r\n    const filteredData = districtsData.filter((item) =>\r\n      item.slug.toLowerCase().includes(slugForSearch)\r\n    );\r\n\r\n    //total records\r\n    const totalRecords = filteredData?.length;\r\n\r\n    let remainingRecords = 0;\r\n    if (totalRecords > 0) {\r\n      remainingRecords =\r\n        totalRecords > pageSize * page\r\n          ? Math.abs(totalRecords - pageSize * page)\r\n          : 0;\r\n    }\r\n\r\n    // Calculate the start and end index of the page\r\n    const startIndex = (page - 1) * pageSize;\r\n    const endIndex = page * pageSize;\r\n\r\n    // Get the data for the current page\r\n    const pageData = filteredData.slice(startIndex, endIndex);\r\n\r\n    return { data: pageData, remainingRecords };\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n}\r\n\r\n/**\r\n * Search and paginate through a list of wards.\r\n *\r\n * @param {Object} options - Options object.\r\n * @param {string} [options.searchText] - The text to search for within ward names.\r\n * @param {number} [options.page] - The page number to retrieve, default value is 1.\r\n * @param {number} [options.pageSize] - The number of wards per page, default value is 20.\r\n * @returns {Promise<{data: Array<Object>, remainingRecords: number}>} An object containing data for the current page and the count of remaining records.\r\n * @throws {Error} Throws an error if any occurs during the process.\r\n */\r\nasync function searchAndPaginateWards({\r\n  searchText = \"\",\r\n  page = 1,\r\n  pageSize = 20,\r\n}) {\r\n  try {\r\n\r\n    const slugForSearch = stringToSlug(searchText);\r\n\r\n    // Filter data based on the \"name\" field\r\n    const filteredData = wardsData.filter((item) =>\r\n      item.slug.toLowerCase().includes(slugForSearch)\r\n    );\r\n\r\n    //total records\r\n    const totalRecords = filteredData?.length;\r\n\r\n    let remainingRecords = 0;\r\n    if (totalRecords > 0) {\r\n      remainingRecords =\r\n        totalRecords > pageSize * page\r\n          ? Math.abs(totalRecords - pageSize * page)\r\n          : 0;\r\n    }\r\n\r\n    // Calculate the start and end index of the page\r\n    const startIndex = (page - 1) * pageSize;\r\n    const endIndex = page * pageSize;\r\n\r\n    // Get the data for the current page\r\n    const pageData = filteredData.slice(startIndex, endIndex);\r\n\r\n    return { data: pageData, remainingRecords };\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n}\r\n\r\n/**\r\n * Search and paginate through a list of Provinces.\r\n *\r\n * @param {Object} options - Options object.\r\n * @param {string} [options.searchText] - The text to search for within ward names.\r\n * @param {number} [options.page] - The page number to retrieve, default value is 1.\r\n * @param {number} [options.pageSize] - The number of wards per page, default value is 20.\r\n * @returns {Promise<{data: Array<Object>, remainingRecords: number}>} An object containing data for the current page and the count of remaining records.\r\n * @throws {Error} Throws an error if any occurs during the process.\r\n */\r\nasync function searchAndPaginateProvinces({\r\n  searchText = \"\",\r\n  page = 1,\r\n  pageSize = 20,\r\n}) {\r\n  try {\r\n\r\n    const slugForSearch = stringToSlug(searchText);\r\n\r\n    // Filter data based on the \"name\" field\r\n    const filteredData = provincesData.filter((item) =>\r\n      item.slug.toLowerCase().includes(slugForSearch)\r\n    );\r\n\r\n    //total records\r\n    const totalRecords = filteredData?.length;\r\n\r\n    let remainingRecords = 0;\r\n    if (totalRecords > 0) {\r\n      remainingRecords =\r\n        totalRecords > pageSize * page\r\n          ? Math.abs(totalRecords - pageSize * page)\r\n          : 0;\r\n    }\r\n\r\n    // Calculate the start and end index of the page\r\n    const startIndex = (page - 1) * pageSize;\r\n    const endIndex = page * pageSize;\r\n\r\n    // Get the data for the current page\r\n    const pageData = filteredData.slice(startIndex, endIndex);\r\n\r\n    return { data: pageData, remainingRecords };\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  searchAndPaginateDistricts,\r\n  searchAndPaginateWards,\r\n  searchAndPaginateProvinces,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}