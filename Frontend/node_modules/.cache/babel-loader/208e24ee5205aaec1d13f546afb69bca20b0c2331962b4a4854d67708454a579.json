{"ast":null,"code":"import CartModel from '../models/CartModel.js';\nclass CartService {\n  constructor() {\n    this.cartModel = new CartModel(JSON.parse(localStorage.getItem('cart')) || []);\n  }\n  addToCart(product) {\n    const updatedItems = this.cartModel.addItem(product);\n    this.saveCart(updatedItems);\n    return updatedItems;\n  }\n  removeFromCart(productId) {\n    const updatedItems = this.cartModel.removeItem(productId);\n    this.saveCart(updatedItems);\n    return updatedItems;\n  }\n  updateQuantity(productId, quantity) {\n    const updatedItems = this.cartModel.updateQuantity(productId, quantity);\n    this.saveCart(updatedItems);\n    return updatedItems;\n  }\n  clearCart() {\n    const updatedItems = this.cartModel.clear();\n    this.saveCart(updatedItems);\n    return updatedItems;\n  }\n  getCartItems() {\n    return this.cartModel.getItems();\n  }\n  getTotalQuantity() {\n    return this.cartModel.getItems().reduce((sum, item) => sum + item.quantity, 0);\n  }\n  getTotalPrice() {\n    return this.cartModel.totalPrice;\n  }\n  saveCart(items) {\n    localStorage.setItem('cart', JSON.stringify(items));\n    this.cartModel = new CartModel(items); // Cập nhật model\n  }\n}\nexport default new CartService();","map":{"version":3,"names":["CartModel","CartService","constructor","cartModel","JSON","parse","localStorage","getItem","addToCart","product","updatedItems","addItem","saveCart","removeFromCart","productId","removeItem","updateQuantity","quantity","clearCart","clear","getCartItems","getItems","getTotalQuantity","reduce","sum","item","getTotalPrice","totalPrice","items","setItem","stringify"],"sources":["D:/Hoang.bk/Documents/GitHub/HHSHOP/Frontend/src/services/CartService.js"],"sourcesContent":["import CartModel from '../models/CartModel.js';\r\n\r\nclass CartService {\r\n  constructor() {\r\n    this.cartModel = new CartModel(JSON.parse(localStorage.getItem('cart')) || []);\r\n  }\r\n\r\n  addToCart(product) {\r\n    const updatedItems = this.cartModel.addItem(product);\r\n    this.saveCart(updatedItems);\r\n    return updatedItems;\r\n  }\r\n\r\n  removeFromCart(productId) {\r\n    const updatedItems = this.cartModel.removeItem(productId);\r\n    this.saveCart(updatedItems);\r\n    return updatedItems;\r\n  }\r\n\r\n  updateQuantity(productId, quantity) {\r\n    const updatedItems = this.cartModel.updateQuantity(productId, quantity);\r\n    this.saveCart(updatedItems);\r\n    return updatedItems;\r\n  }\r\n\r\n  clearCart() {\r\n    const updatedItems = this.cartModel.clear();\r\n    this.saveCart(updatedItems);\r\n    return updatedItems;\r\n  }\r\n\r\n  getCartItems() {\r\n    return this.cartModel.getItems();\r\n  }\r\n\r\n  getTotalQuantity() {\r\n    return this.cartModel.getItems().reduce((sum, item) => sum + item.quantity, 0);\r\n  }\r\n\r\n  getTotalPrice() {\r\n    return this.cartModel.totalPrice;\r\n  }\r\n\r\n  saveCart(items) {\r\n    localStorage.setItem('cart', JSON.stringify(items));\r\n    this.cartModel = new CartModel(items); // Cập nhật model\r\n  }\r\n}\r\n\r\nexport default new CartService();"],"mappings":"AAAA,OAAOA,SAAS,MAAM,wBAAwB;AAE9C,MAAMC,WAAW,CAAC;EAChBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,SAAS,GAAG,IAAIH,SAAS,CAACI,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;EAChF;EAEAC,SAASA,CAACC,OAAO,EAAE;IACjB,MAAMC,YAAY,GAAG,IAAI,CAACP,SAAS,CAACQ,OAAO,CAACF,OAAO,CAAC;IACpD,IAAI,CAACG,QAAQ,CAACF,YAAY,CAAC;IAC3B,OAAOA,YAAY;EACrB;EAEAG,cAAcA,CAACC,SAAS,EAAE;IACxB,MAAMJ,YAAY,GAAG,IAAI,CAACP,SAAS,CAACY,UAAU,CAACD,SAAS,CAAC;IACzD,IAAI,CAACF,QAAQ,CAACF,YAAY,CAAC;IAC3B,OAAOA,YAAY;EACrB;EAEAM,cAAcA,CAACF,SAAS,EAAEG,QAAQ,EAAE;IAClC,MAAMP,YAAY,GAAG,IAAI,CAACP,SAAS,CAACa,cAAc,CAACF,SAAS,EAAEG,QAAQ,CAAC;IACvE,IAAI,CAACL,QAAQ,CAACF,YAAY,CAAC;IAC3B,OAAOA,YAAY;EACrB;EAEAQ,SAASA,CAAA,EAAG;IACV,MAAMR,YAAY,GAAG,IAAI,CAACP,SAAS,CAACgB,KAAK,CAAC,CAAC;IAC3C,IAAI,CAACP,QAAQ,CAACF,YAAY,CAAC;IAC3B,OAAOA,YAAY;EACrB;EAEAU,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAACjB,SAAS,CAACkB,QAAQ,CAAC,CAAC;EAClC;EAEAC,gBAAgBA,CAAA,EAAG;IACjB,OAAO,IAAI,CAACnB,SAAS,CAACkB,QAAQ,CAAC,CAAC,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACR,QAAQ,EAAE,CAAC,CAAC;EAChF;EAEAS,aAAaA,CAAA,EAAG;IACd,OAAO,IAAI,CAACvB,SAAS,CAACwB,UAAU;EAClC;EAEAf,QAAQA,CAACgB,KAAK,EAAE;IACdtB,YAAY,CAACuB,OAAO,CAAC,MAAM,EAAEzB,IAAI,CAAC0B,SAAS,CAACF,KAAK,CAAC,CAAC;IACnD,IAAI,CAACzB,SAAS,GAAG,IAAIH,SAAS,CAAC4B,KAAK,CAAC,CAAC,CAAC;EACzC;AACF;AAEA,eAAe,IAAI3B,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}