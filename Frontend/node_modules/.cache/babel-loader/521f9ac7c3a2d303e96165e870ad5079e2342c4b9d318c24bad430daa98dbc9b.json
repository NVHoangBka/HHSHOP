{"ast":null,"code":"export class CartModel {\n  constructor(items = []) {\n    this.items = items.map(item => ({\n      ...item,\n      quantity: item.quantity || 1,\n      displayPrice: item.discountPrice || item.price\n    }));\n  }\n  get totalItems() {\n    return this.items.length;\n  }\n  get totalPrice() {\n    return this.items.reduce((sum, item) => sum + item.displayPrice * item.quantity, 0);\n  }\n  addItem(product) {\n    const existing = this.items.find(item => item.id === product.id);\n    if (existing) {\n      existing.quantity += 1;\n    } else {\n      this.items.push({\n        ...product,\n        quantity: 1,\n        displayPrice: product.discountPrice || product.price\n      });\n    }\n    return [...this.items];\n  }\n  removeItem(productId) {\n    this.items = this.items.filter(item => item.id !== productId);\n    return [...this.items];\n  }\n  updateQuantity(productId, quantity) {\n    this.items = this.items.map(item => item.id === productId ? {\n      ...item,\n      quantity: Math.max(1, quantity)\n    } : item);\n    return [...this.items];\n  }\n  clear() {\n    this.items = [];\n    return [];\n  }\n  getItems() {\n    return [...this.items];\n  }\n}\nexport default CartModel;","map":{"version":3,"names":["CartModel","constructor","items","map","item","quantity","displayPrice","discountPrice","price","totalItems","length","totalPrice","reduce","sum","addItem","product","existing","find","id","push","removeItem","productId","filter","updateQuantity","Math","max","clear","getItems"],"sources":["D:/Hoang.bk/Documents/GitHub/HHSHOP/Frontend/src/models/CartModel.js"],"sourcesContent":["export class CartModel {\r\n  constructor(items = []) {\r\n    this.items = items.map(item => ({\r\n      ...item,\r\n      quantity: item.quantity || 1,\r\n      displayPrice: item.discountPrice || item.price\r\n    }));\r\n  }\r\n\r\n  get totalItems() {\r\n    return this.items.length;\r\n  }\r\n\r\n  get totalPrice() {\r\n    return this.items.reduce((sum, item) => sum + (item.displayPrice * item.quantity), 0);\r\n  }\r\n\r\n  addItem(product) {\r\n    const existing = this.items.find(item => item.id === product.id);\r\n    if (existing) {\r\n      existing.quantity += 1;\r\n    } else {\r\n      this.items.push({ ...product, quantity: 1, displayPrice: product.discountPrice || product.price });\r\n    }\r\n    return [...this.items];\r\n  }\r\n\r\n  removeItem(productId) {\r\n    this.items = this.items.filter(item => item.id !== productId);\r\n    return [...this.items];\r\n  }\r\n\r\n  updateQuantity(productId, quantity) {\r\n    this.items = this.items.map(item =>\r\n      item.id === productId ? { ...item, quantity: Math.max(1, quantity) } : item\r\n    );\r\n    return [...this.items];\r\n  }\r\n\r\n  clear() {\r\n    this.items = [];\r\n    return [];\r\n  }\r\n\r\n  getItems() {\r\n    return [...this.items];\r\n  }\r\n}\r\n\r\nexport default CartModel;"],"mappings":"AAAA,OAAO,MAAMA,SAAS,CAAC;EACrBC,WAAWA,CAACC,KAAK,GAAG,EAAE,EAAE;IACtB,IAAI,CAACA,KAAK,GAAGA,KAAK,CAACC,GAAG,CAACC,IAAI,KAAK;MAC9B,GAAGA,IAAI;MACPC,QAAQ,EAAED,IAAI,CAACC,QAAQ,IAAI,CAAC;MAC5BC,YAAY,EAAEF,IAAI,CAACG,aAAa,IAAIH,IAAI,CAACI;IAC3C,CAAC,CAAC,CAAC;EACL;EAEA,IAAIC,UAAUA,CAAA,EAAG;IACf,OAAO,IAAI,CAACP,KAAK,CAACQ,MAAM;EAC1B;EAEA,IAAIC,UAAUA,CAAA,EAAG;IACf,OAAO,IAAI,CAACT,KAAK,CAACU,MAAM,CAAC,CAACC,GAAG,EAAET,IAAI,KAAKS,GAAG,GAAIT,IAAI,CAACE,YAAY,GAAGF,IAAI,CAACC,QAAS,EAAE,CAAC,CAAC;EACvF;EAEAS,OAAOA,CAACC,OAAO,EAAE;IACf,MAAMC,QAAQ,GAAG,IAAI,CAACd,KAAK,CAACe,IAAI,CAACb,IAAI,IAAIA,IAAI,CAACc,EAAE,KAAKH,OAAO,CAACG,EAAE,CAAC;IAChE,IAAIF,QAAQ,EAAE;MACZA,QAAQ,CAACX,QAAQ,IAAI,CAAC;IACxB,CAAC,MAAM;MACL,IAAI,CAACH,KAAK,CAACiB,IAAI,CAAC;QAAE,GAAGJ,OAAO;QAAEV,QAAQ,EAAE,CAAC;QAAEC,YAAY,EAAES,OAAO,CAACR,aAAa,IAAIQ,OAAO,CAACP;MAAM,CAAC,CAAC;IACpG;IACA,OAAO,CAAC,GAAG,IAAI,CAACN,KAAK,CAAC;EACxB;EAEAkB,UAAUA,CAACC,SAAS,EAAE;IACpB,IAAI,CAACnB,KAAK,GAAG,IAAI,CAACA,KAAK,CAACoB,MAAM,CAAClB,IAAI,IAAIA,IAAI,CAACc,EAAE,KAAKG,SAAS,CAAC;IAC7D,OAAO,CAAC,GAAG,IAAI,CAACnB,KAAK,CAAC;EACxB;EAEAqB,cAAcA,CAACF,SAAS,EAAEhB,QAAQ,EAAE;IAClC,IAAI,CAACH,KAAK,GAAG,IAAI,CAACA,KAAK,CAACC,GAAG,CAACC,IAAI,IAC9BA,IAAI,CAACc,EAAE,KAAKG,SAAS,GAAG;MAAE,GAAGjB,IAAI;MAAEC,QAAQ,EAAEmB,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEpB,QAAQ;IAAE,CAAC,GAAGD,IACzE,CAAC;IACD,OAAO,CAAC,GAAG,IAAI,CAACF,KAAK,CAAC;EACxB;EAEAwB,KAAKA,CAAA,EAAG;IACN,IAAI,CAACxB,KAAK,GAAG,EAAE;IACf,OAAO,EAAE;EACX;EAEAyB,QAAQA,CAAA,EAAG;IACT,OAAO,CAAC,GAAG,IAAI,CAACzB,KAAK,CAAC;EACxB;AACF;AAEA,eAAeF,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}