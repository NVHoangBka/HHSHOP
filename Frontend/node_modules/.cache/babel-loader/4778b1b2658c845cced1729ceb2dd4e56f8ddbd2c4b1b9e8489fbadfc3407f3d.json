{"ast":null,"code":"// src/models/ProductModel.js\nimport api from '../services/api';\nclass Product {\n  constructor(data) {\n    this.id = data._id;\n    this.name = data.name;\n    this.price = data.price;\n    this.discountPrice = data.discountPrice || null;\n    this.image = data.image;\n    this.description = data.description;\n    this.types = data.types || [];\n    this.tag = data.tag || [];\n    this.brands = data.brands || [];\n    this.colors = data.colors || [];\n    this.titles = data.titles || [];\n    this.subTitles = data.subTitles || [];\n    this.falseSale = data.falseSale || false;\n  }\n}\nclass ProductModel {\n  async getAllProducts() {\n    try {\n      const res = await api.get('/products');\n      return res.data.products.map(p => new Product(p));\n    } catch (error) {\n      console.error('Lỗi tải sản phẩm:', error);\n      return [];\n    }\n  }\n  async getProductsByTitle(titlePath) {\n    try {\n      const res = await api.get(`/products/title/${titlePath}`);\n      return res.data.products.map(p => new Product(p));\n    } catch (error) {\n      console.error('Lỗi lọc theo title:', error);\n      return [];\n    }\n  }\n  async getProductsBySubTitle(subTitlePath) {\n    try {\n      const res = await api.get(`/products/subtitle/${subTitlePath}`);\n      return res.data.products.map(p => new Product(p));\n    } catch (error) {\n      console.error('Lỗi lọc theo subtitle:', error);\n      return [];\n    }\n  }\n  async getProductsByTag(tag) {\n    try {\n      const res = await api.get(`/products/tag/${tag}`);\n      return res.data.products.map(p => new Product(p));\n    } catch (error) {\n      console.error('Lỗi lọc theo tag:', error);\n      return [];\n    }\n  }\n  async getProductsByType(type) {\n    try {\n      const res = await api.get(`/products/type/${type}`);\n      return res.data.products.map(p => new Product(p));\n    } catch (error) {\n      console.error('Lỗi lọc theo type:', error);\n      return [];\n    }\n  }\n  async getProductById(id) {\n    try {\n      const res = await api.get(`/products/${id}`);\n      return new Product(res.data.product);\n    } catch (error) {\n      console.error('Lỗi lấy chi tiết sản phẩm:', error);\n      return null;\n    }\n  }\n}\nexport default ProductModel;","map":{"version":3,"names":["api","Product","constructor","data","id","_id","name","price","discountPrice","image","description","types","tag","brands","colors","titles","subTitles","falseSale","ProductModel","getAllProducts","res","get","products","map","p","error","console","getProductsByTitle","titlePath","getProductsBySubTitle","subTitlePath","getProductsByTag","getProductsByType","type","getProductById","product"],"sources":["D:/Hoang.bk/Documents/GitHub/HHSHOP/Frontend/src/models/ProductModel.js"],"sourcesContent":["// src/models/ProductModel.js\r\nimport api from '../services/api';\r\n\r\nclass Product {\r\n  constructor(data) {\r\n    this.id = data._id;\r\n    this.name = data.name;\r\n    this.price = data.price;\r\n    this.discountPrice = data.discountPrice || null;\r\n    this.image = data.image;\r\n    this.description = data.description;\r\n    this.types = data.types || [];\r\n    this.tag = data.tag || [];\r\n    this.brands = data.brands || [];\r\n    this.colors = data.colors || [];\r\n    this.titles = data.titles || [];\r\n    this.subTitles = data.subTitles || [];\r\n    this.falseSale = data.falseSale || false;\r\n  }\r\n}\r\n\r\nclass ProductModel {\r\n  async getAllProducts() {\r\n    try {\r\n      const res = await api.get('/products');\r\n      return res.data.products.map(p => new Product(p));\r\n    } catch (error) {\r\n      console.error('Lỗi tải sản phẩm:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getProductsByTitle(titlePath) {\r\n    try {\r\n      const res = await api.get(`/products/title/${titlePath}`);\r\n      return res.data.products.map(p => new Product(p));\r\n    } catch (error) {\r\n      console.error('Lỗi lọc theo title:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getProductsBySubTitle(subTitlePath) {\r\n    try {\r\n      const res = await api.get(`/products/subtitle/${subTitlePath}`);\r\n      return res.data.products.map(p => new Product(p));\r\n    } catch (error) {\r\n      console.error('Lỗi lọc theo subtitle:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getProductsByTag(tag) {\r\n    try {\r\n      const res = await api.get(`/products/tag/${tag}`);\r\n      return res.data.products.map(p => new Product(p));\r\n    } catch (error) {\r\n      console.error('Lỗi lọc theo tag:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getProductsByType(type) {\r\n    try {\r\n      const res = await api.get(`/products/type/${type}`);\r\n      return res.data.products.map(p => new Product(p));\r\n    } catch (error) {\r\n      console.error('Lỗi lọc theo type:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  async getProductById(id) {\r\n    try {\r\n      const res = await api.get(`/products/${id}`);\r\n      return new Product(res.data.product);\r\n    } catch (error) {\r\n      console.error('Lỗi lấy chi tiết sản phẩm:', error);\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default ProductModel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}