{"ast":null,"code":"import AuthService from \"../services/AuthService.js\";\nclass AuthController {\n  constructor() {\n    this.authService = new AuthService();\n  }\n  async register(newUser) {\n    try {\n      const result = await this.authService.register(newUser);\n      return result; // { success, user, message, status }\n    } catch (error) {\n      return {\n        success: false,\n        message: \"Đăng ký thất bại\",\n        status: 500\n      };\n    }\n  }\n  async login(email, password) {\n    try {\n      const result = await this.authService.login(email, password);\n      return result; // { success, user, message, status }\n    } catch (error) {\n      return {\n        success: false,\n        message: \"Đăng nhập thất bại\",\n        status: 500\n      };\n    }\n  }\n  async logout() {\n    try {\n      const result = await this.authService.logout();\n      return result; // { success, message }\n    } catch (error) {\n      return {\n        success: false,\n        message: \"Đăng xuất thất bại\"\n      };\n    }\n  }\n  async isAuthenticated() {\n    try {\n      return await this.authService.isAuthenticated();\n    } catch (error) {\n      return false;\n    }\n  }\n  async getCurrentUser() {\n    try {\n      return await this.authService.getCurrentUser();\n    } catch (error) {\n      return null;\n    }\n  }\n  async recoverPassword(email) {\n    try {\n      const result = await this.authService.recoverPassword(email);\n      return result; // { success, message }\n    } catch (error) {\n      return {\n        success: false,\n        message: \"Yêu cầu đặt lại mật khẩu thất bại\"\n      };\n    }\n  }\n  async changePassword(oldPassword, newPassword) {\n    try {\n      const result = await this.authService.changePassword(oldPassword, newPassword);\n      return result; // { success, message }\n    } catch (error) {\n      return {\n        success: false,\n        message: \"Đổi mật khẩu thất bại\"\n      };\n    }\n  }\n  async getAddressCount(userId) {\n    try {\n      const count = await this.authService.getAddressCount(userId);\n      return {\n        success: true,\n        count\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n  async getAddressAll(userId) {\n    try {\n      const addresses = await this.authService.getAddressAll(userId);\n      return {\n        success: true,\n        addresses\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n  async addAddress(userId, addressData) {\n    try {\n      const newAddress = await this.authService.addAddress(userId, addressData);\n      return {\n        success: true,\n        address: newAddress\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n  async updateAddress(userId, addressId, addressData) {\n    try {\n      const updatedAddress = await this.authService.updateAddress(userId, addressId, addressData);\n      return {\n        success: true,\n        address: updatedAddress\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n  async deleteAddress(userId, addressId) {\n    try {\n      await this.authService.deleteAddress(userId, addressId);\n      return {\n        success: true\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n  }\n}\nexport default AuthController;","map":{"version":3,"names":["AuthService","AuthController","constructor","authService","register","newUser","result","error","success","message","status","login","email","password","logout","isAuthenticated","getCurrentUser","recoverPassword","changePassword","oldPassword","newPassword","getAddressCount","userId","count","getAddressAll","addresses","addAddress","addressData","newAddress","address","updateAddress","addressId","updatedAddress","deleteAddress"],"sources":["D:/Hoang.bk/Documents/GitHub/HHSHOP/Frontend/src/controllers/AuthController.js"],"sourcesContent":["import AuthService from \"../services/AuthService.js\";\r\n\r\nclass AuthController {\r\n  constructor() {\r\n    this.authService = new AuthService();\r\n  }\r\n\r\n  async register(newUser) {\r\n    try {\r\n      const result = await this.authService.register(newUser);\r\n      return result; // { success, user, message, status }\r\n    } catch (error) {\r\n      return { success: false, message: \"Đăng ký thất bại\", status: 500 };\r\n    }\r\n  }\r\n\r\n  async login(email, password) {\r\n    try {\r\n      const result = await this.authService.login(email, password);\r\n      return result; // { success, user, message, status }\r\n    } catch (error) {\r\n      return { success: false, message: \"Đăng nhập thất bại\", status: 500 };\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    try {\r\n      const result = await this.authService.logout();\r\n      return result; // { success, message }\r\n    } catch (error) {\r\n      return { success: false, message: \"Đăng xuất thất bại\" };\r\n    }\r\n  }\r\n\r\n  async isAuthenticated() {\r\n    try {\r\n      return await this.authService.isAuthenticated();\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    try {\r\n      return await this.authService.getCurrentUser();\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async recoverPassword(email) {\r\n    try {\r\n      const result = await this.authService.recoverPassword(email);\r\n      return result; // { success, message }\r\n    } catch (error) {\r\n      return { success: false, message: \"Yêu cầu đặt lại mật khẩu thất bại\" };\r\n    }\r\n  }\r\n\r\n  async changePassword(oldPassword, newPassword) {\r\n    try {\r\n      const result = await this.authService.changePassword(\r\n        oldPassword,\r\n        newPassword\r\n      );\r\n      return result; // { success, message }\r\n    } catch (error) {\r\n      return { success: false, message: \"Đổi mật khẩu thất bại\" };\r\n    }\r\n  }\r\n\r\n  async getAddressCount(userId) {\r\n    try {\r\n      const count = await this.authService.getAddressCount(userId);\r\n      return { success: true, count };\r\n    } catch (error) {\r\n      return { success: false, message: error.message };\r\n    }\r\n  }\r\n\r\n  async getAddressAll(userId) {\r\n    try {\r\n      const addresses = await this.authService.getAddressAll(userId);\r\n      return { success: true, addresses };\r\n    } catch (error) {\r\n      return { success: false, message: error.message };\r\n    }\r\n  }\r\n\r\n  async addAddress(userId, addressData) {\r\n    try {\r\n      const newAddress = await this.authService.addAddress(userId, addressData);\r\n      return { success: true, address: newAddress };\r\n    } catch (error) {\r\n      return { success: false, message: error.message };\r\n    }\r\n  }\r\n\r\n  async updateAddress(userId, addressId, addressData) {\r\n    try {\r\n      const updatedAddress = await this.authService.updateAddress(\r\n        userId,\r\n        addressId,\r\n        addressData\r\n      );\r\n      return { success: true, address: updatedAddress };\r\n    } catch (error) {\r\n      return { success: false, message: error.message };\r\n    }\r\n  }\r\n\r\n  async deleteAddress(userId, addressId) {\r\n    try {\r\n      await this.authService.deleteAddress(userId, addressId);\r\n      return { success: true };\r\n    } catch (error) {\r\n      return { success: false, message: error.message };\r\n    }\r\n  }\r\n}\r\n\r\nexport default AuthController;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}