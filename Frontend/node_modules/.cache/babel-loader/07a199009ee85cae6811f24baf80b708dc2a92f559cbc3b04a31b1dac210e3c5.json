{"ast":null,"code":"// src/services/CartService.js\nimport CartModel from '../models/CartModel.js';\nclass CartService {\n  constructor() {\n    const saved = JSON.parse(localStorage.getItem('cart')) || [];\n    this.cartModel = new CartModel(saved);\n  }\n  saveCart() {\n    localStorage.setItem('cart', JSON.stringify(this.cartModel.getItems()));\n  }\n  addToCart(product) {\n    const items = this.cartModel.addItem(product);\n    this.saveCart();\n    return items;\n  }\n  removeFromCart(id) {\n    const items = this.cartModel.removeItem(id);\n    this.saveCart();\n    return items;\n  }\n  updateQuantity(id, qty) {\n    const items = this.cartModel.updateQuantity(id, qty);\n    this.saveCart();\n    return items;\n  }\n  clearCart() {\n    const items = this.cartModel.clear();\n    this.saveCart();\n    return items;\n  }\n  getCartItems() {\n    return this.cartModel.getItems();\n  }\n  getTotalQuantity() {\n    return this.cartModel.getItems().reduce((s, i) => s + i.quantity, 0);\n  }\n  getTotalPrice() {\n    return this.cartModel.totalPrice; // DÙNG GETTER\n  }\n}\nexport default CartService;","map":{"version":3,"names":["CartModel","CartService","constructor","saved","JSON","parse","localStorage","getItem","cartModel","saveCart","setItem","stringify","getItems","addToCart","product","items","addItem","removeFromCart","id","removeItem","updateQuantity","qty","clearCart","clear","getCartItems","getTotalQuantity","reduce","s","i","quantity","getTotalPrice","totalPrice"],"sources":["D:/Hoang.bk/Documents/GitHub/HHSHOP/Frontend/src/services/CartService.js"],"sourcesContent":["// src/services/CartService.js\r\nimport CartModel from '../models/CartModel.js';\r\n\r\nclass CartService {\r\n  constructor() {\r\n    const saved = JSON.parse(localStorage.getItem('cart')) || [];\r\n    this.cartModel = new CartModel(saved);\r\n  }\r\n\r\n  saveCart() {\r\n    localStorage.setItem('cart', JSON.stringify(this.cartModel.getItems()));\r\n  }\r\n\r\n  addToCart(product) {\r\n    const items = this.cartModel.addItem(product);\r\n    this.saveCart();\r\n    return items;\r\n  }\r\n\r\n  removeFromCart(id) {\r\n    const items = this.cartModel.removeItem(id);\r\n    this.saveCart();\r\n    return items;\r\n  }\r\n\r\n  updateQuantity(id, qty) {\r\n    const items = this.cartModel.updateQuantity(id, qty);\r\n    this.saveCart();\r\n    return items;\r\n  }\r\n\r\n  clearCart() {\r\n    const items = this.cartModel.clear();\r\n    this.saveCart();\r\n    return items;\r\n  }\r\n\r\n  getCartItems() {\r\n    return this.cartModel.getItems();\r\n  }\r\n\r\n  getTotalQuantity() {\r\n    return this.cartModel.getItems().reduce((s, i) => s + i.quantity, 0);\r\n  }\r\n\r\n  getTotalPrice() {\r\n    return this.cartModel.totalPrice; // DÙNG GETTER\r\n  }\r\n}\r\n\r\nexport default CartService;"],"mappings":"AAAA;AACA,OAAOA,SAAS,MAAM,wBAAwB;AAE9C,MAAMC,WAAW,CAAC;EAChBC,WAAWA,CAAA,EAAG;IACZ,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;IAC5D,IAAI,CAACC,SAAS,GAAG,IAAIR,SAAS,CAACG,KAAK,CAAC;EACvC;EAEAM,QAAQA,CAAA,EAAG;IACTH,YAAY,CAACI,OAAO,CAAC,MAAM,EAAEN,IAAI,CAACO,SAAS,CAAC,IAAI,CAACH,SAAS,CAACI,QAAQ,CAAC,CAAC,CAAC,CAAC;EACzE;EAEAC,SAASA,CAACC,OAAO,EAAE;IACjB,MAAMC,KAAK,GAAG,IAAI,CAACP,SAAS,CAACQ,OAAO,CAACF,OAAO,CAAC;IAC7C,IAAI,CAACL,QAAQ,CAAC,CAAC;IACf,OAAOM,KAAK;EACd;EAEAE,cAAcA,CAACC,EAAE,EAAE;IACjB,MAAMH,KAAK,GAAG,IAAI,CAACP,SAAS,CAACW,UAAU,CAACD,EAAE,CAAC;IAC3C,IAAI,CAACT,QAAQ,CAAC,CAAC;IACf,OAAOM,KAAK;EACd;EAEAK,cAAcA,CAACF,EAAE,EAAEG,GAAG,EAAE;IACtB,MAAMN,KAAK,GAAG,IAAI,CAACP,SAAS,CAACY,cAAc,CAACF,EAAE,EAAEG,GAAG,CAAC;IACpD,IAAI,CAACZ,QAAQ,CAAC,CAAC;IACf,OAAOM,KAAK;EACd;EAEAO,SAASA,CAAA,EAAG;IACV,MAAMP,KAAK,GAAG,IAAI,CAACP,SAAS,CAACe,KAAK,CAAC,CAAC;IACpC,IAAI,CAACd,QAAQ,CAAC,CAAC;IACf,OAAOM,KAAK;EACd;EAEAS,YAAYA,CAAA,EAAG;IACb,OAAO,IAAI,CAAChB,SAAS,CAACI,QAAQ,CAAC,CAAC;EAClC;EAEAa,gBAAgBA,CAAA,EAAG;IACjB,OAAO,IAAI,CAACjB,SAAS,CAACI,QAAQ,CAAC,CAAC,CAACc,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAACC,QAAQ,EAAE,CAAC,CAAC;EACtE;EAEAC,aAAaA,CAAA,EAAG;IACd,OAAO,IAAI,CAACtB,SAAS,CAACuB,UAAU,CAAC,CAAC;EACpC;AACF;AAEA,eAAe9B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}